# <FONT COLOR=#8B008B>2.2. Guía de ensamblado</font>
Comenzamos por verificar que tenemos los tableros etiquetados con las letras A, B, C, D, E, F, G, H e I y la placa con el resto de partes y que están en buen estado. Todos los elementos los vemos en la figura 2.2.1.

<center>

![Tableros A a I y partes](../img/2_kit/F2_2_1.png)  
*Figura 2.2.1. Tableros A a I y partes*

</center>

Los cables que utilizaremos en cada apartado son los que describimos seguidamente:

* **Elementos con conector de 3 pines y servos**

<center>

| Letra | Función | Descripción | Color del cable | En el servo |
|:-:|:-:|---|:-:|:-:|
| G | Ground | Es el negativo de la alimentación | Negro | Conductor marrón |
| V | VCC | Es el positivo de la alimentación | Rojo | Conductor rojo |
| S | Signal | Es el cable de señal | Amarillo/Naranja | Conductor naranja |

* **Elementos con conector de 4 pines**

</center>

<center>

| Dispositivo | Letras / Color del cable | Dispositivo | Letras / Color del cable |
|:-:|:-:|:-:|:-:|
| **Sensor de gas MQ-2** | GND - Marrón <br>VCC - Rojo<br>D0 - Naranja<br>A0 - Amarillo | **Ventilador** | GND - Marrón <br>VCC - Rojo<br>ENA - Naranja<br>ENB - Amarillo |
| **LCD** | GND - Marrón <br>VCC - Rojo<br>SDA - Naranja<br>SCL - Amarillo | **Bluetooth** | VCC - Rojo <br>GND - Marrón<br>Tx - Naranja<br>Rx - Amarillo |

**<FONT COLOR=#0000FF>El módulo bluetooth también se puede conectar directamente en la placa Keyestudio v5.2.</font>**

</center>

## <FONT COLOR=#007575>**2.2.1. Tablero A**</font>
Preparamos los componentes siguientes:

<center>

| Cantidad | Designación | Aspecto |
|:-:|---|:-:| 
| 1 | Tablero A | ![Tablero A](../img/2_kit/tableroA/TA_1.png) |
| 4 | Tornillos de cabeza redonda M3x10mm | ![Tornillos de cabeza redonda M3x10mm](../img/2_kit/tableroA/TA_2.png) |
| 4 | Tuercas M3 | ![Tuercas M3](../img/2_kit/tableroA/TA_3.png) |
| 4 | Tornillos de cabeza redonda M2.5x10mm | ![Tornillos de cabeza redonda M2.5x10mm](../img/2_kit/tableroA/TA_4.png) |
| 4 | Tuercas M2.5 | ![Tuercas M2.5](../img/2_kit/tableroA/TA_5.png) |
| 2 | Módulos botón pulsador | ![Módulos botón pulsador](../img/2_kit/tableroA/TA_6.png) |
| 1 | LED blanco | ![LED blanco](../img/2_kit/tableroA/TA_7.png) |
| 1 | Sensor de movimiento PIR | ![Sensor de movimiento PIR](../img/2_kit/tableroA/TA_8.png) |
| 1 | Pantalla LCD1602 | ![Pantalla LCD1602](../img/2_kit/tableroA/TA_9.png) |
| 1 | Cable tipo dupont H-H de 4 pines | ![Cable tipo dupont H-H de 4 pines](../img/2_kit/tableroA/TA_10.png) |
| 4 | Cable tipo dupont H-H de 3 pines | ![Cable tipo dupont H-H de 3 pines](../img/2_kit/tableroA/TA_11.png) |

</center>

En la Figura 2.2.2 vemos el conjunto de materiales desplegado para tenerlo todo a mano para comenzar el montaje.

<center>

![Tablero A y todos los componentes](../img/2_kit/F2_2_2.png)  
*Figura 2.2.2. Tablero A y todos los componentes*

</center>

Fijamos al tablero el LED blanco, los dos sensores tipo botón y el sensor de presencia PIR utilizando los 4 tornillos M3x10mm y las 4 tuercas M3. Instalamos en su posición la pantalla LCD1602 utilizando los 4 tornillos M2.5x10mm y las 4 tuercas M2.5. En la Figura 2.2.3 vemos el aspecto del tablero A en este momento.

<center>

![Tablero A con los componentes montados](../img/2_kit/F2_2_3.png)  
*Figura 2.2.3. Tablero A con los componentes montados*

</center>

Conectamos los 4 cables tipo dupont de 3 pines teniendo la precaución de que queden orientados para que coincidan las letras en cada extremo y pasamos el extremo contrario por la ranura que hay debajo. Conectamos el cable tipo dupont de 4 pines.

## <FONT COLOR=#007575>**2.2.2. Tablero B**</font>
Preparamos los componentes siguientes:

<center>

| Cantidad | Designación | Aspecto |
|:-:|---|:-:|
| 1 | Tablero B | ![Tablero B](../img/2_kit/tableroB/TB_1.png) |
| 2 | Tornillos de cabeza redonda M3x10mm | ![Tornillos de cabeza redonda M3x10mm](../img/2_kit/tableroB/TB_2.png) |
| 2 | Tuercas M3 | ![Tuercas M3](../img/2_kit/tableroB/TB_3.png) |
| 1 | Módulo relé | ![Módulo relé](../img/2_kit/tableroB/TB_4.png) |
| 1 | Cable tipo dupont H-H de 3 pines | ![Cable tipo dupont H-H de 3 pines](../img/2_kit/tableroB/TB_5.png) |

</center>

En la Figura 2.2.4 vemos el conjunto de materiales desplegado para tenerlo todo a mano para comenzar el montaje.

<center>

![Tablero B y todos los componentes](../img/2_kit/F2_2_4.png)  
*Figura 2.2.4. Tablero B y todos los componentes*

</center>

Ensamblamos el módulo relé en el tablero con los 2 tornillos M3x10mm y las 2 tuercas M3. En la Figura 2.2.5 vemos el aspecto del tablero B en este momento.

<center>

![Tablero B con los componentes montados](../img/2_kit/F2_2_5.png)  
*Figura 2.2.5. Tablero B con los componentes montados*

</center>

Conectamos el cable tipo dupont de 3 pines teniendo la precaución de que queden orientados para que coincidan las letras en cada extremo y pasamos el extremo contrario por la ranura que hay a la derecha del relé.

## <FONT COLOR=#007575>**2.2.3. Ensamblar tableros A y B**</font>
Para fijar los tableros A y B utilizamos un burlón tipo T. El material para este paso lo vemos en la Figura 2.2.6.

<center>

![Materiales para el ensamblado de los tableros A y B](../img/2_kit/F2_2_6.png)  
*Figura 2.2.6. Materiales para el ensamblado de los tableros A y B*

</center>

El resultado y la posición del burlón lo podemos apreciar en la Figura 2.2.7.

<center>

![Ensamblado de los tableros A y B](../img/2_kit/F2_2_7.png)  
*Figura 2.2.7. Ensamblado de los tableros A y B*

</center>

## <FONT COLOR=#007575>**2.2.4. Tablero C**</font>
Preparamos los componentes siguientes:

<center>

| Cantidad | Designación | Aspecto |
|:-:|---|:-:|
| 1 | Tablero C | ![Tablero C](../img/2_kit/tableroC/TC_1.png) |
| 1 | Tornillo de cabeza redonda M3x10mm | ![Tornillo de cabeza redonda M3x10mm](../img/2_kit/tableroC/TC_2.png) |
| 2 | Tornillos de cabeza avellanada M3x10mm | ![Tornillo de cabeza avellanada M3x10mm](../img/2_kit/tableroC/TC_3.png) |
| 3 | Tuercas M3 | ![Tuercas M3](../img/2_kit/tableroC/TC_4.png) |
| 1 | Sensor de gas MQ-2 | ![Sensor de gas MQ-2](../img/2_kit/tableroC/TC_5.png) |
| 1 | Soporte para 6 pilas o baterías AA | ![Soporte para 6 pilas o baterías AA](../img/2_kit/tableroC/TC_6.png) |
| 1 | Cable tipo dupont H-H de 4 pines | ![Cable tipo dupont H-H de 4 pines](../img/2_kit/tableroC/TC_7.png) |

</center>

El soporte para pilas va dotado de un conector DC macho de Ø_int. 2.1mm y Ø_ext. 5.5mm que deja al conjunto listo para alimentar la placa de control.

En la Figura 2.2.8 vemos el conjunto de materiales desplegado para tenerlo todo a mano para comenzar el montaje.

<center>

![Tablero C y todos los componentes](../img/2_kit/F2_2_8.png)  
*Figura 2.2.8. Tablero C y todos los componentes*

</center>

Fijamos el soporte para pilas al tablero C utilizando los dos tornillos M3x10mm de cabeza avellanada y 2 tuercas M3. Ahora instalamos el módulo sensor de gases MQ-2 en el tablero C utilizando el tornillo M3x10 de cabeza redonda y la tuerca M3 restante. En la Figura 2.2.9 vemos el aspecto del tablero B en este momento.

<center>

![Tablero C con los componentes montados](../img/2_kit/F2_2_9.png)  
*Figura 2.2.9. Tablero C con los componentes montados*

</center>

Conectamos el cable tipo dupont de 4 pines al MQ-2 teniendo la precaución de que queden orientados para que coincidan las letras en cada extremo y pasamos el extremo contrario por la ranura que hay debajo del sensor.

## <FONT COLOR=#007575>**2.2.6. Tablero D**</font>
Preparamos los componentes siguientes:

<center>

| Cantidad | Designación | Aspecto |
|:-:|---|:-:|
| 1 | Tablero D | ![Tablero D](../img/2_kit/tableroD/TD_1.png) |
| 1 | Tablero 1 | ![Tablero 1](../img/2_kit/tableroD/TD_2.png) |
| 4 | Tornillos de cabeza redonda M3x12mm | ![Tornillos de cabeza redonda M3x12mm](../img/2_kit/tableroD/TD_3.png) |
| 4 | Tuercas M3 autoblocantes | ![Tuercas M3 autoblocantes](../img/2_kit/tableroD/TD_4.png) |
| 2 | Tornillos de cabeza redonda M2x12mm | ![Tornillo de cabeza redonda M2x12mm](../img/2_kit/tableroD/TD_5.png) |
| 2 | Tuercas M2 | ![Tuercas M2](../img/2_kit/tableroD/TD_6.png) |
| 4 | Tornillos autoroscantes M1.2x5mm | ![Tornillo autoroscantes M1.2x5mm](../img/2_kit/tableroD/TD_7.png) |
| 1 | Tornillo de cabeza redonda M2x5mm | ![Tornillo de cabeza redonda M2x5mm](../img/2_kit/tableroD/TD_8.png) |
| 1 | Engranaje | ![Engranaje](../img/2_kit/tableroD/TD_9.png) |
| 1 | Servo motor 9g | ![Servo motor 9g](../img/2_kit/tableroD/TD_10.png) |
| 1 | Cruz de montaje | ![Cruz de montaje](../img/2_kit/tableroD/TD_11.png) |

</center>

En la Figura 2.2.10 vemos el conjunto de materiales desplegado para tenerlo todo a mano para comenzar el montaje.

<center>

![Tablero D y todos los componentes](../img/2_kit/F2_2_10.png)  
*Figura 2.2.10. Tablero D y todos los componentes*

</center>

Antes de colocar el servo en su posición debemos proceder a rotarlo 90º. Para ello vamos a conectar el servo al conjunto de placas tal y como vemos en la Figura 2.2.11.

<center>

![Servo conectado al pin 10 para rotarlo 90º](../img/2_kit/F2_2_11.png)  
*Figura 2.2.11. Servo conectado al pin 10 para rotarlo 90º*

</center>

Conectamos el servo al pin 10 de la shield V5 y le grabamos el programa que vemos en la Figura 2.2.12. Esta tarea se puede realizar en cualquier otro pin de la placa. La conexión del servo la realizamos teniendo en cuenta los colores vistos al principio del apartado.

<center>

![Programa para rotar el servo 90º](../img/2_kit/F2_2_12.png)  
*Figura 2.2.12. Programa para rotar el servo 90º*

</center>

Una vez que subimos el programa a la placa el servo queda rotado 90º.

Fijamos el servo en su lugar utilizando los 2 tornillos de cabeza redonda M2x12mm y 2 tuercas M2x12. Después instalamos el tablero 1 en el tablero D utilizando los 4 tornillos de cabeza redonda M3x12mm y las 4 tuercas autoblocantes. En la Figura 2.2.13 vemos el aspecto del tablero B en este momento.

<center>

![Tablero D con el servo y el tablero 1 montados](../img/2_kit/F2_2_13.png)  
*Figura 2.2.13. Tablero D con el servo y el tablero 1 montados*

</center>


Fijamos la cruz blanca al engranaje con los 4 tornillos autoroscantes M1.2x5mm tal y como vemos en la Figura 2.2.14.

<center>

![Fijación de la cruz del servo al engranaje](../img/2_kit/F2_2_14.png)  
*Figura 2.2.14. Fijación de la cruz del servo al engranaje*

</center>

Montamos el engranaje en el servo motor fijándolo con el tornillo M2x5mm. Pasamos el cable del servo por la ranura y tendremos el panel en el estado que vemos en la Figura 2.2.15.

<center>

![Tablero D con los componentes montados](../img/2_kit/F2_2_15.png)  
*Figura 2.2.15. Tablero D con los componentes montados*

</center>

### <FONT COLOR=#AA0000>Problema montaje servo</font>
En la imagen siguiente vemos el problema que se plantea al colocar el engranaje del servo en el mismo. Los dientes apenas coinciden lo que puede originar un funcionamiento erróneo o peor aún, un desgaste de los dientes que hagan inservible al engranaje. El problema se detecta cuando se programa el servo y se comprueba que no se mueve de forma correcta.

<center>

![Mal alineamiento de engranajes](../img/2_kit/tableroD/problema-servo.png)  
*Mal alineamiento de engranajes*

</center>

La solución que he optado por darle es diseñar e imprimir dos pequeñas piezas que actúen a modo de distanciador y que dejen alineado ambos engranajes. En la imagen siguiente vemos las piezas, donde van colocadas y el resultado final una vez puesto todo en su lugar.

<center>

![Buen alineamiento de engranajes](../img/2_kit/tableroD/solucion.png)  
*Buen alineamiento de engranajes*

</center>

Aunque se trata de una pieza muy sencilla de diseñar, siguiendo fiel a mi costumbre, pongo en los enlaces el archivo fuente ([posicionador.FCStd](../Posicionador/posicionador.FCStd)) y el archivo stl ([posicionador-servo.stl](../Posicionador/posicionador-servo.stl)) por si los necesitas.


## <FONT COLOR=#007575>**2.2.6. Ensamblar tableros C y D**</font>
Para fijar los tableros C y D utilizamos un burlón tipo T. El material para este paso lo vemos en la Figura 2.2.16.

<center>

![Materiales para el ensamblado de los tableros C y D](../img/2_kit/F2_2_16.png)  
*Figura 2.2.16. Materiales para el ensamblado de los tableros C y D*

</center>

El resultado y la posición del burlón lo podemos apreciar en la Figura 2.2.17.

<center>

![Ensamblado de los tableros C y D](../img/2_kit/F2_2_17.png)  
*Figura 2.2.17. Ensamblado de los tableros C y D*

</center>

## <FONT COLOR=#007575>**2.2.7. Tablero E**</font>
Preparamos los componentes siguientes:

<center>

| Cantidad | Designación | Aspecto |
|:-:|---|:-:|
| 1 | Tablero E | ![Tablero E](../img/2_kit/tableroE/TE_1.png) |
| 1 | Tornillo de cabeza redonda M3x10mm | ![Tornillo de cabeza redonda M3x10mm](../img/2_kit/tableroE/TE_2.png) |
| 1 | Tuerca M3 | ![Tuercas M3](../img/2_kit/tableroE/TE_3.png) |
| 1 | LED amarillo | ![LED amarillo](../img/2_kit/tableroE/TE_4.png) |
| 1 | Cable tipo dupont H-H de 3 pines | ![Cable tipo dupont H-H de 3 pines](../img/2_kit/tableroE/TE_5.png) |

</center>

En la Figura 2.2.18 vemos el conjunto de materiales desplegado para tenerlo todo a mano para comenzar el montaje.

<center>

![Tablero E y todos los componentes](../img/2_kit/F2_2_18.png)  
*Figura 2.2.18. Tablero E y todos los componentes*

</center>

Montamos el LED amarillo en su lugar el tornillo M3x10mm de cabeza redonda y la tuerca M3. En la Figura 2.2.19 vemos el aspecto del tablero B en este momento.

<center>

![Tablero E con los componentes montados](../img/2_kit/F2_2_19.png)  
*Figura 2.2.19. Tablero E con los componentes montados*

</center>

Conectamos el cable tipo dupont de 3 pines al sensor la precaución de orientar el conector de forma correcta.

## <FONT COLOR=#007575>**2.2.8. Tablero H**</font>
Preparamos los componentes siguientes:

<center>

| Cantidad | Designación | Aspecto |
|:-:|---|:-:|
| 1 | Tablero H | ![Tablero H](../img/2_kit/tableroH/TH_1.png) |
| 2 | Tablero 2 | ![Tablero 2](../img/2_kit/tableroH/TH_2.png) |
| 2 | Engranajes | ![Engranajes](../img/2_kit/tableroH/TH_3.png) |
| 8 | Tornillos de cabeza redonda M3x6mm | ![Tornillo de cabeza redonda M3x6mm](../img/2_kit/tableroH/TH_4.png) |
| 1 | Tornillo de cabeza redonda M3x10mm | ![Tornillo de cabeza redonda M3x10mm](../img/2_kit/tableroH/TH_5.png) |
| 1 | Tuerca M3 | ![Tuercas M3](../img/2_kit/tableroH/TH_6.png) |
| 2 | Tornillos de cabeza redonda M2x12mm | ![Tornillo de cabeza redonda M2x12mm](../img/2_kit/tableroH/TH_7.png) |
| 2 | Tuercas M2 | ![Tuercas M2](../img/2_kit/tableroH/TH_8.png) |
| 4 | Separadores hexagonales M3x10mm | ![Separadores hexagonales M3x10mm](../img/2_kit/tableroH/TH_9.png) |
| 4 | Tornillos autoroscantes M1.2x5mm | ![Tornillo autoroscantes M1.2x5mm](../img/2_kit/tableroH/TH_10.png) |
| 1 | Tornillo de cabeza redonda M2x5mm | ![Tornillo de cabeza redonda M2x5mm](../img/2_kit/tableroH/TH_11.png) |
| 1 | Servo motor 9g | ![Servo motor 9g](../img/2_kit/tableroH/TH_12.png) |
| 1 | Pala de montaje | ![Cruz de montaje](../img/2_kit/tableroH/TH_13.png) |
| 1 | Zumbador pasivo | ![Zumbador pasivo](../img/2_kit/tableroH/TH_14.png) |
| 1 | Cable tipo dupont H-H de 3 pines | ![Cable tipo dupont H-H de 3 pines](../img/2_kit/tableroH/TH_15.png) |
| 1 | Placa de control Keyestudio PLUS | ![Placa de control Keyestudio PLUS](../img/2_kit/tableroH/TH_16.png) |
| 1 | Placa Sensor shield | ![Placa Sensor shield](../img/2_kit/tableroH/TH_17.png) |

</center>

En la Figura 2.2.20 vemos el conjunto de materiales desplegado para tenerlo todo a mano para comenzar el montaje.

<center>

![Tablero H y todos los componentes](../img/2_kit/F2_2_20.png)  
*Figura 2.2.20. Tablero H y todos los componentes*

</center>

Montamos los 4 separadores en el tablero H sujetándolos con 4 tornillos M3x6mm y fijamos el zumbador pasivo con un tornillo M3x10mm y una tuerca M3, tal y como vemos en la Figura 2.2.21.

<center>

![Tablero H con separadores y zumbador](../img/2_kit/F2_2_21.png)  
*Figura 2.2.21. Tablero H con separadores y zumbador*

</center>

Rotamos el servo 90º de la misma forma que hicimos en el apartado "**2.2.6: Tablero D**" antes de instalarlo en su lugar utilizando dos tornillos M2x12mm y dos tuercas M2. Fijamos la placa de control keyestudio PLUS a los 4 separadores utilizando 4 tornillos M3x6mm. En la Figura 2.2.22 vemos como queda el conjunto una vez dados los pasos anteriores.

<center>

![Tablero H con placa de control, zumbador y servo](../img/2_kit/F2_2_22.png)  
*Figura 2.2.22. Tablero H con placa de control, zumbador y servo*

</center>

Ensamblados las dos piezas 'Tablero 2' y atornillamos la pala de montaje al engranaje tal y como vemos en la Figura 2.2.23.

<center>

![Ensable de Tablero 2 y pala a engranaje](../img/2_kit/F2_2_23.png)  
*Figura 2.2.23. Ensable de Tablero 2 y pala a engranaje*

</center>

Fijar el engranaje con la cruz de montaje en el servo utilizando un tornillo M2x5mm (incluido con el servo). Ahora instalamos la combinación de los dos tableros numerados con el 2 y el otro engranaje en el lugar correspondiente del tablero H para que quede algo como lo que vemos en la Figura 2.2.24.

<center>

![Tablero H con los componentes montados](../img/2_kit/F2_2_24.png)  
*Figura 2.2.24. Tablero H con los componentes montados*

</center>

Finalmente conectamos el cable tipo dupont de 3 pines al zumbador teniendo la precaución de orientar el conector de forma correcta y colocamos la placa 'sensor shield' en la placa de control keyestudio PLUS. El conjunto del tablero H tendrá el aspecto de la Figura 2.2.25.

<center>

![Tablero H finalizado](../img/2_kit/F2_2_25.png)  
*Figura 2.2.25. Tablero H finalizado*

</center>

## <FONT COLOR=#007575>**2.2.9. Ensamblar A,B,C,D,E y H**</font>
Se trata de unir utilizando burlones en T el ensambles A y B, el ensamble C y D y los paneles E y H. El conector de alimentación de la placa control PLUS debe quedar alineado con el orificio 8 del tablero B, y el conecto USB debe quedar alineado con el orificio 7 del mismo tablero. En la Figura 2.2.26 vemos los materiales que vamos a necesitar para este paso.

<center>

![Materiales para ensamblar los paneles A,B,C,D,E y H](../img/2_kit/F2_2_26.png)  
*Figura 2.2.26. Materiales para ensamblar los paneles A,B,C,D,E y H*

</center>

En la Figura 2.2.27 vemos detalles del ensamblaje.

<center>

![Detalles de ensamblaje de los paneles A,B,C,D,E y H](../img/2_kit/F2_2_27.png)  
*Figura 2.2.27. Detalles de ensamblaje de los paneles A,B,C,D,E y H*

</center>

En la figura 2.2.28 vemos el montaje final con los 6 tableros ensamblados.

<center>

![Ensamble de tableros A,B,C,D,E y H finalizado](../img/2_kit/F2_2_28.png)  
*Figura 2.2.28. Ensamble de tableros A,B,C,D,E y H finalizado*

</center>

## <FONT COLOR=#007575>**2.2.10: Tablero F**</font>
Preparamos los componentes siguientes:

<center>

| Cantidad | Designación | Aspecto |
|:-:|---|:-:|
| 1 | Tablero F | ![Tablero F](../img/2_kit/tableroF/TF_1.png) |
| 3 | Tornillos de cabeza redonda M3x10mm | ![Tornillos de cabeza redonda M3x10mm](../img/2_kit/tableroF/TF_2.png) |
| 3 | Tuercas M3 | ![Tuercas M3](../img/2_kit/tableroF/TF_3.png) |
| 1 | Sensor de vapor (Steam Sensor) | ![Sensor de vapor (Steam Sensor)](../img/2_kit/tableroF/TF_4.png) |
| 1 | Sensor fotocélula o LDR | ![Sensor fotocélula o LDR](../img/2_kit/tableroF/TF_5.png) |
| 1 | Módulo motor DC con ventilador | ![Módulo motor DC con ventilador](../img/2_kit/tableroF/TF_6.png) |
| 2 | Cable tipo dupont H-H de 4 pines | ![Cable tipo dupont H-H de 4 pines](../img/2_kit/tableroF/TF_7.png) |
| 1 | Cable tipo dupont H-H de 3 pines | ![Cable tipo dupont H-H de 3 pines](../img/2_kit/tableroF/TF_8.png) |

</center>

En la Figura 2.2.29 vemos el conjunto de materiales desplegado para tenerlo todo a mano para comenzar el montaje.

<center>

![Tablero F y todos los componentes](../img/2_kit/F2_2_29.png)  
*Figura 2.2.29. Tablero F y todos los componentes*

</center>

Fijamos por separado el sensor de vapor, la fotocélula o LDR y el módulo ventilador en la placa F con 3 tornillos de cabeza redonda M3x10mm y 3 tuercas M3, posteriormente colocamos cables tipo dupont de 3 pines y 4 pines. En la Figura 2.2.30 vemos el aspecto del tablero F en este momento.

<center>

![Tablero F con los componentes montados](../img/2_kit/F2_2_30.png)  
*Figura 2.2.30. Tablero F con los componentes montados*

</center>

## <FONT COLOR=#007575>**2.2.11: Conexionado**</font>
Antes de poder finalizar el ansamblado de la smart home necesitamos conectar todos los módulos y sensores a la placa de control a través de la Sensor Shield V5.2. Vamos a ir viendo paso a paso como hacer esta tarea, en la que debemos prestar especial atención al sentido de colocación de los conectores y al número de pin que va conectado cada uno. De esta forma tendremos también una guía de conexiones que nos resultará util cuando iniciemos los retos de programación.

### <FONT COLOR=#AA0000>Por partes</font>

Según el proceso de montaje seguido ya tendremos conectado un extremo de los cables dupont de 3 ó 4 pines a los pines del sensor o al módulo, ahora toca conectar el otro extremo a la placa Sensor Shield V5.2. También conectaremos los dos servos en este paso. En la tabla siguiente vemos de manera gráfica y descriptiva las conexiones de todos los elementos.

<center>

| Sensor - módulo | en sensor | en shield | Nº | Esquema |
|---|:-:|:-:|:-:|:-:|
| Relé <br><br><br>LED blanco</br> | G - V - S <br><br><br>G - V - S</br> | G - V - 12 <br><br><br>G - V - 13</br> | 6 <br><br><br>1</br> |![Relé y LED blanco](../img/2_kit/conex/C1.png)|
| Motor DC, módulo ventilador | GND - VCC - INA - INB | G - V - 7 - 6 | 15 |![Motor DC ventilador](../img/2_kit/conex/C2.png)|
| Botón izquierdo <br><br><br>LED amarillo</br> | G - V - S <br><br><br>G - V - S</br> | G - V - 4 <br><br><br>G - V - 5</br> | 3 <br><br><br>12</br> |![Botón izquierdo y LED amarillo](../img/2_kit/conex/C3.png)|
| Zumbador <br><br><br>Sensor PIR</br> | G - V - S <br><br><br>G - V - S</br> | G - V - 3 <br><br><br>G - V - 2</br> | 16 <br><br><br>5</br> |![Zumbador y sensor PIR](../img/2_kit/conex/C4.png)|
| Botón derecho <br><br><br>Sensor gas MQ-2</br> | G - V - S <br><br><br>GND - VCC - D0 - A0</br> | G - V - 8 <br><br><br>G - V - 11 - A0</br> | 4 <br><br><br>10</br> |![Botón derecho y sensor gas MQ-2](../img/2_kit/conex/C5.png)|
| Sensor de vapor <br><br><br>Sensor humedad</br><br><br><br>fotocelula LDR </br> | G - V - S <br><br><br>G - V - S</br><br><br><br>G - V - S</br> | G - V - A3 <br><br><br>G - V - A2</br><br><br><br>G - V - A1</br> | 13 <br><br><br>-</br><br><br><br>14</br> |![Sensor de vapor, sensor humedad y fotocelula LDR](../img/2_kit/conex/C6.png)|
| Servo puerta <br><br><br>Servo ventana</br> | Marrón - Rojo - Naranja <br><br><br>Marrón - Rojo - Naranja</br> | G - V - 9 <br><br><br>G - V - 10</br> | 17 <br><br><br>11</br> |![Servos](../img/2_kit/conex/C7.png)|
| Pantalla LCD1602 | GND - VCC - SDA - SCL | GND - VCC - SDA - SCL (IIC) | 2 |![Pantalla LCD1602](../img/2_kit/conex/C8.png)|
| Módulo bluetooth | VCC - GND - TXD - RXD | 5V - GND - RXD - TXD (COM) | - |![Módulo bluetooth](../img/2_kit/conex/C9.png)|

</center>

### <FONT COLOR=#AA0000>Completo</font>

En la Figura 2.2.31 vemos el esquema de conexionado completo.

<center>

![Esquema de conexiones](../img/2_kit/F2_2_31.png)  
*Figura 2.2.31. Esquema de conexiones*

</center>

A continuación tenemos la tabla de conexiones expresadas mediante texto.

<center>

| Sensor - módulo | en sensor | en shield |
|---|:-:|:-:|
| Relé | G - V - S | G - V - 12  |
| LED blanco | G - V - S | G - V - 13 |
| Motor DC, módulo ventilador | GND - VCC - INA - INB | G - V - 7 - 6 |
| Botón izquierdo | G - V - S | G - V - 4 |
| LED amarillo | G - V - S | G - V - 5 |
| Zumbador | G - V - S | G - V - 3 |
| Sensor PIR | G - V - S | G - V - 2 |
| Botón derecho | G - V - S | G - V - 8 |
| Sensor gas MQ-2 | GND - VCC - D0 - A0 | G - V - 11 - A0 |
| Sensor de vapor | G - V - S | G - V - A3 |
| Sensor humedad  | G - V - S | G - V - A2 |
| Fotocelula LDR  | G - V - S | G - V - A1 |
| Servo puerta | Marrón - Rojo - Naranja Marrón - Rojo - Naranja | G - V - 9 |
| Servo ventana | Marrón - Rojo - Naranja Marrón - Rojo - Naranja | G - V - 10 |
| Pantalla LCD1602 | GND - VCC - SDA - SCL | GND - VCC - SDA - SCL (IIC) |
| Módulo bluetooth | VCC - GND - TXD - RXD | 5V - GND - RXD - TXD (COM) |

</center>

### <FONT COLOR=#AA0000>Detalles</font>

El aspecto de la smart home con todas las conexiones realizadas lo vemos en la Figura 2.2.32, donde se han conectado mediante cables tipo dupont tanto el sensor de humedad como el módulo bluetooth. Este último puede insertarse directamente en la shield pero como vamos a realizar diferentes programaciones de la placa es conveniente tenerlo a mano para poder desconectarlo y conectarlo de forma sencilla.

<center>

![Smart home con todas las conexiones](../img/2_kit/F2_2_32.png)  
*Figura 2.2.32. Smart home con todas las conexiones*

</center>

La conexión del módulo bluetooth se realiza con 4 cables tipo dupont M-H dado que en la shield las conexiones disponibles en el puerto COM son hembra. El orden de conexiones lo vemos en la tabla siguiente:

<center>

| Módulo bluetooth | Sensor shield V5.2 | Descripción |
|:-:|:-:|---|
| VCC | 5V | Positivo de alimentación |
| GND | GND | Negativo de alimentación |
| TXD | RXD | Conexión cruzada de Tx con Rx |
| RXD | TXD | Conexión cruzada de Rx con Tx|

</center>

Como se indica en la tabla los pines de transmisión y recepción de ambas placas deben cruzarse de modo que ambas se 'escuchen' entre si.

En la Figura 2.2.33 vemos el tablero F colocado en su lugar y el módulo bluetooth colocado sobre la shield V5.2.

<center>

![Módulo bluetooth y tablero F colocados ](../img/2_kit/F2_2_33.png)  
*Figura 2.2.33. Módulo bluetooth y tablero F colocados*

</center>

## <FONT COLOR=#007575>**2.2.12: Ensamblar tableros F y G**</font>
Para fijar el tablero F utilizaremos el material que vemos en la Figura 2.2.34, es decir, el tablero ya montado, dos tornillos de cabeza redonda M3x10mm, dos tuercas y los dos burlones que vemos en la Figura.

<center>

![Materiales para el ensamblado del tablero F](../img/2_kit/F2_2_34.png)  
*Figura 2.2.34. Materiales para el ensamblado del tablero F*

</center>

El tablero G solamente requiere colocarlo en su lugar y sujetarlo con dos burlones en T. El resultado, la posición de los burlones para el tablero G y el tablero F colocado lo podemos apreciar en la Figura 2.2.35.

<center>

![Ensamblado de los tableros F y G](../img/2_kit/F2_2_35.png)  
*Figura 2.2.35. Ensamblado de los tableros F y G*

</center>

## <FONT COLOR=#007575>**2.2.13: Ensamblado del suelo**</font>
Este es el paso final de ensamblado del kit. El material que necesitamos para llevarlo a cabo es el que vemos en la Figura 2.2.36, el tablero del suelo y 6 burlones en T.

<center>

![Materiales para el ensamblado del tablero del suelo](../img/2_kit/F2_2_36.png)  
*Figura 2.2.36. Materiales para el ensamblado del tablero del suelo*

</center>

Teniendo especial cuidado de que el ensamble de los tableros 2 y el engranaje de la puerta queden colocados en su lugar, posicionamos el suelo y lo sujetamos con los burlones para obtener el resultado que vemos en la Figura 2.2.37.

<center>

![Suelo ensamblado](../img/2_kit/F2_2_37.png)  
*Figura 2.2.37. Suelo ensamblado*

</center>

En la Figura 2.2.38 vemos el montaje finalizado y listo para empezar a programarlo.

<center>

![Kit completamente montado](../img/2_kit/F2_2_38.png)  
*Figura 2.2.38. Kit completamente montado*

</center>
